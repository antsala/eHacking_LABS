# eHacking_LABS

Laboratorios para las formaciones de Ethical Hacking está en la URL https://github.com/antsala/eHacking_LABS.git


## Carpeta 00. Despliegue del laboratorio.

1. Laboratorio 00: ***Preparación del entorno de laboratorio en Windows***. Los ejercicios a realizar son:
   - Instalación de VirtualBox para Windows.
   - Descarga de las OVAs de la VMs.
   - Importación y configuracion de la VM ***Router-ubu***.
   - Importación y configuracion de la VM ***KaliLinux2022_2***.
   - Importación y configuracion de la VM ***Metasploitable3-ubu1404***.
   - Importación y configuracion de la VM ***Metasploitable3-win2k8***.
   - Importación y configuracion de la VM ***Windows 7***.
   - Importación y configuracion de la VM ***Win11***.
   - Importación y configuracion de la VM ***Windows Server 2022 core***.
   - Importación y configuracion de la VM ***ubu_sr_01***.
   - Clonado del repositorio de GitHub.

## Carpeta 02. Footprinting y reconocimiento.

1. Laboratorio 02-A: ***Realizar Footprinting usando motores de búsqueda***. Los ejercicios a realizar son:
   - Google Hacking.
   - Extraer información de un video.
   - Extraer información de servidores FTP.
   - Extraer información de dispositivos IoT.

2. Laboratorio 02-B: ***Realizar Footprinting usando servicios web***. Los ejercicios a realizar son:
   - Localizar dominios de la víctima.
   - Localizar información sobre personas usando buscadores.
   - Localizar direcciones de correo electrónico.
   - Localizar recursos en la Dark Web.
   - Fingerprinting pasivo de sitios webs.

3. Laboratorio 02-C: ***Realizar Footprinting por medio de redes sociales***. Los ejercicios a realizar son:
   - Extraer información desde LinkedIn.
   - Extraer información usando Sherlock.
   - Extraer información desde Twitter.


4. Laboratorio 02-D: ***Realizar Footprinting de sitios web***. Los ejercicios a realizar son:
   - Recolectar información sobre sitio web objetivo.
   - Herramientas de Scraping.
   - Clonar el sitio de la víctima con httrack.
   - Extraer información de calidad con CeWL.

5. Laboratorio 02-E: ***Realizar Footprinting usando Whois y DNS***. Los ejercicios a realizar son:
   - Consulta a la base de datos Whois.
   - Reconocimiento por medio de registros DNS.
   - Reconocimiento por medio del protocolo ICMP.

6. Laboratorio 02-F: ***Otras herramientas de reconocimiento***. Los ejercicios a realizar son:
   - Recon-ng.
   - Maltego.
   - OSRFramework.
   - FOCA.
   - osintFramework.

## Carpeta 03. Escaneo de la red local

1. Laboratorio 03-A: ***Descubrimiento de hosts en la red local***. Los ejercicios a realizar son:
   - Reconocimiento de hosts usando nmap.
   - Reconocimento usando otras herramientas.
   - Visualizar la topología de la red.
   - Reconocimiento usando Metasploit.

2. Laboratorio 03-B: ***Evadir el IDS/Firewall***. Los ejercicios a realizar son:
   - Instalación de WireShark.
   - Reconocimiento atravesando el firewall.
   - Creación paquetes modificados por ***Hping3*** para evadir el Firewall.
   - Anonimización por medio de proxy/VPN.

## Carpeta 04. Enumeración.

1. Laboratorio 04-A: ***Enumeración NetBIOS***. Los ejercicios a realizar son:
   - Enumeración NetBIOS por medio de nbtscan y smbmap.
   - Enumerar NetBIOS con ***nmap scripting engine***.

2. Laboratorio 04-B: ***Enumeración SNMP***. Los ejercicios a realizar son:
   - Habilitar SNMP en ***Win 11***.
   - Usar ***snmp-check*** para la enumeración.

3. Laboratorio 04-C: ***Enumeración LDAP***. Los ejercicios a realizar son:
   - Iniciar sesión en el Dominio ***XYZ***.
   - Enumerar el dominio con ***ADExplorer***.
   - Enumerar el dominio con ***ldapsearch***.

4. Laboratorio 04-D: ***Enumeración NFS***. Los ejercicios a realizar son:
   - Configuración de un share de NFS.
   - Enumerar los ***shares*** con ***nmap***.

5. Laboratorio 04-E: ***Enumeración SMB/Samba***. Los ejercicios a realizar son:
   - Enumerar carpetas compartidas.

## Carpeta 05. Evaluación de vulnerabilidades.

1. Laboratorio 05-A: ***Búsqueda de información sobre vulnerabilidades en Internet***. Los ejercicios a realizar son:
   - Búsqueda en ***Common Weakness Enumeration (CWE)***.
   - Búsqueda en ***Common Vulnerabilities and Exposures (CVE)***.
   - Búsqueda en ***National Vulnerability Database (NVD)***.

2. Laboratorio 05-B: ***Herramientas de evaluación de vulnerabilidades***. Los ejercicios a realizar son:
   - Instalar Open VAS.
   - Descubrir vulnerabilidades con ***Open VAS***.
   - Descubrir vulnerabilidades con ***Nessus***.
   - Descubrir vulnerabilidades con ***LanGuard***.
   - Descubrir vulnerabilidades web con ***Nikto***.

## Carpeta 06. Hacking

1. Laboratorio 06-A: ***Usar Responder para robar hashes***. Los ejercicios a realizar son:
   - Envenenamiento LLMNR/NBT por protocolo ***SMB***.
   - Envenenamiento por medio de ***WAPD***.
   - Forzar el modo de ***autenticación básica***.

2. Laboratorio 06-B: ***Usar L0phtCrack para auditar la seguridad de credenciales.***. Los ejercicios a realizar son:
   - Instalar y evaluar ***L0phtCrack***.

3. Laboratorio 06-C: ***Usar Metasploit para levantar un servidor VNC en la víctima***. Los ejercicios a realizar son:
   - Abrir una sesión de ***Meterpreter***.
   - Usar ***PowerShell Mafia*** para encontrar nuevas vulnerabilidades.
   - Levantar un servidor ***VNC*** en la víctima.
   - Instalar  y usar ***Armitage***.

4. Laboratorio 06-D: ***Elevar privilegios en una sesión de meterpreter***. Los ejercicios a realizar son:
   - Ganar una sesión de meterpreter.
   - Escalar privilegios y robar los hashes.
   - Crear un nuevo usuario local administrador.


5. Laboratorio 06-E: ***Ocultar el rastro y eliminación de pruebas*** . Los ejercicios a realizar son:
   - Auditpol en Windows.
   - Eliminar eventos de los logs de Windows.
   - Eliminar eventos de los logs de Linux.

6. Laboratorio 06-F: ***Uso de la técnica de ARP Spoofing para ataques MitM*** . Los ejercicios a realizar son:
   - MitM con ***arpspoof***.
   - Realizar un ataque de ***DNS spoofing***.
   - Ataque a comunicaciones HTTPS por medio de ***MITMf Framework***.

7. Laboratorio 06-G: ***Evaluar la fortaleza de la red frente a ataques en la capa 2***. Los ejercicios a realizar son:
   - Instalar el rol ***DHCP*** en Windows Server 2022.
   - Usar ***Yersinia*** para denegar servicios al servidor DHCP.

8. Laboratorio 06-H: ***Detectar ataques MitM***. Los ejercicios a realizar son:
   - Instalar ***Xarp*** en ***Win 11***.
   - Lanzar un ataque de ***arp spoofing*** y detectarlo.

9. Laboratorio 06-I: ***Ataques DoS***. Los ejercicios a realizar son:
   - Lanzar un ataque de DoS con ***Metasploit***.
   - Lanzar un ataque de DoS con ***Hping3***.

10. Laboratorio 06-J: ***Detección con Snort***. Los ejercicios a realizar son:
   - Instalar Snort.
   - Detectar con Snort.

## Carpeta 07. Ingeniería Social

1. Laboratorio 07-A: ***Usar SET (Social Engineering Toolkit) para realizar ataque de phishing***. Los ejercicios a realizar son:
   - Usar ***SET*** para ataque de ***Phishing***.

2. Laboratorio 07-B: ***Usar SocialFishish para realizar ataque de phishing***. Los ejercicios a realizar son:
   - Usar ***SocialFish*** para ataque de ***Phishing***.

3. Laboratorio 07-C: ***Saltar 2FA en cuentas de M365 con Evilginx***
   - Crear tenant de M365.
   - Habilitar la MFA para el usuario de M365.
   - Configurar Microsoft authenticator en emulador Android.
   - Crear una VM en Azure e instalar Evilginx.
   - Crear un dominio de ataque y hacer que los servidores de zona apunten a la VM de evilginx.
   - Configuración de evilginx para realizar el ataque a una cuenta de M365.

## Carpeta 25. Ataque a aplicaciones Web.

1. Laboratorio 25-A: ***OWASP*** y la "Tienda de Zumos". Los ejercicios a realizar son:
   - ¿Qué es ***Juice Shop***?
   - Instalación de ***Juice Shop***.
   - Instalación de ***OWASP ZAP***.

2. Laboratorio 25-B: Aprender a usar ***Juice Shop***.

3. Laboratorio 25-C: Descubrir el ***ScoreBoard*** y la sección ***Admin***.
   - Descubrir el "Scoreboard"
   - Descubrir la sección "Admin"

4. Laboratorio 25-D: Ataques de Inyección SQL (***SQL Injection***).
   - Hacer un pedido de la oferta especial de navidad de 2014.
   - Exfiltrar el esquema de la base de datos.
   - Obtener las credenciales de todos los usuarios.
   - Iniciar sesión con el usuario administrador.
   - Iniciar sesión con un usuario que ni siquiera existe.

5. Laboratorio 25-E: Romper la autenticación (***Broken Authentication***).
   - Cambiar el password del usuario ***Bender*** sin usar ni inyección de SQL ni la opción ***Contraseña olvidada***.
   - Romper la autenticación 2FA.

6. Laboratorio 25-F: Exposición de datos sensibles (***Sensitive Data Exposure***).
   - Acceder a un documento confidencial.
   - Ganar acceso a los logs del servidor.
   - Fuga de información a través de la API.
   - Acceder a un archivo de backup olvidado por un programador.

7. Laboratorio 25-G: Validación de datos de entrada inapropiada (***Improper Input Validation***).
   - Registrar a un usuario con privilegios de administrador. 
   - Hacer un pedido que te hará rico.
   
8. Laboratorio 25-H: Romper la autorización (***Broken Access Control***).
   


## Carpeta 30. Ataques a máquinas Metasploitable

1. Laboratorio 30-A: ***Explotar vulnerabilidad CVE-2015-3306 presente en ProFTPD 1.3.5***.

2. Laboratorio 30-B: ***Explotar vulnerabilidad CVE-2014-6271 (Shellshock) presente en Apache***.

3. Laboratorio 30-C: ***Aprovechar vulnerabilidad WebDAV***.

4. Laboratorio 30-D: ***Escalado de privilegio explotando no_root_squash***.




## Carpeta 40. Labs del cuaderno. 
TODO. Por hacer.


## Carpeta 50. Técnicas avanzadas.

1. Laboratorio 50-A: ***Ofuscación de Powershell***. Los ejercicios a realizar son:
   - Crear un script de PowerShell que sondee los puertos.
   - Ofuscar el malware.
   - Determinar qué antivirus detectan la ofuscación.

2. Laboratorio 50-B: ***Exfiltrar información sensible evadiendo el sistema DLP***. Los ejercicios a realizar son:
   - Comprobar si la víctima puede usar ICMP.
   - Crear en servidor ICMP en la máquina de ataque.
   - Codificar el documento secreto y enviarlo.
   - Comprobar la exfiltración.

3. Laboratorio 50-C: ***Evasión del antivirus usando Shelter***. Los ejercicios a realizar son:
   - Instalación de ***Shelter*** en ***Kali Linux***.
   - Inyectar malware evadiendo al antivirus.

NOTA: Ejercicio 3: Evadir al antivirus alterando AMSI no funciona en W10.
4. Laboratorio 50-D: ***Covenant C2***. Los ejercicios a realizar son:
   - Instalación de ***Covenant*** en ***Kali Linux***.
   - Crear un ***Listener*** e inicializar un ***Grunt***.
   - Evadir al antivirus alterando ***AMSI***. 

5. Laboratorio 50-E: Descifrar SSL con WireShark. (por hacer)
   https://www.youtube.com/watch?v=5qecyZHL-GU
   



   
   


   



